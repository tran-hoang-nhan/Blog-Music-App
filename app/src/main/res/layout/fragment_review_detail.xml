<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/lightBackgroundColor"
    android:fitsSystemWindows="true"
    tools:context=".ui.review.ReviewAlbumDetailFragment"
    android:paddingTop="60dp"
    android:paddingBottom="15dp"
    android:clipToPadding="false">

    <com.google.android.material.appbar.AppBarLayout
        android:id="@+id/app_bar"
        android:layout_width="match_parent"
        android:layout_height="350dp"
        android:fitsSystemWindows="true"
        android:background="@android:color/transparent"
        app:elevation="0dp">

        <com.google.android.material.appbar.CollapsingToolbarLayout
            android:id="@+id/collapsing_toolbar"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:fitsSystemWindows="true"
            app:contentScrim="@android:color/transparent"
            app:layout_scrollFlags="scroll|exitUntilCollapsed|snap"
            app:titleEnabled="false">

            <ImageView
                android:id="@+id/album_cover_image"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:fitsSystemWindows="true"
                android:scaleType="centerCrop"
                tools:src="@drawable/placeholder"
                app:layout_collapseMode="parallax" />

            <View
                android:layout_width="match_parent"
                android:layout_height="200dp"
                android:layout_gravity="bottom"
                android:background="@drawable/scrim_bottom_to_top" />
            
            <androidx.appcompat.widget.Toolbar
                android:id="@+id/toolbar"
                android:layout_width="match_parent"
                android:layout_height="?attr/actionBarSize"
                app:layout_collapseMode="pin" />

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_gravity="bottom"
                android:orientation="vertical"
                android:padding="24dp">

                <TextView
                    android:id="@+id/album_title_text"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    tools:text="Album Title Goes Here"
                    android:textColor="@android:color/white"
                    android:textSize="28sp"
                    android:textStyle="bold" />

                <TextView
                    android:id="@+id/album_artist_text"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    tools:text="Artist Name"
                    android:textColor="@android:color/white"
                    android:textSize="18sp" />

            </LinearLayout>

        </com.google.android.material.appbar.CollapsingToolbarLayout>
    </com.google.android.material.appbar.AppBarLayout>

    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:paddingBottom="72dp"
        android:clipToPadding="false"
        app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="24dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:gravity="center_vertical"
                android:layout_marginBottom="24dp">
                
                <TextView
                    android:id="@+id/detail_subtitle_text"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    tools:text="Album subtitle text that can be quite long"
                    android:textColor="@color/primaryTextColor"
                    android:textSize="22sp"
                    android:textStyle="bold"/>

                <FrameLayout
                    android:layout_width="80dp"
                    android:layout_height="80dp"
                    android:layout_marginStart="16dp"
                    android:background="@drawable/rating_circle">

                    <TextView
                        android:id="@+id/album_score_text"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center"
                        tools:text="8.5"
                        android:textSize="28sp"
                        android:textStyle="bold"
                        android:textColor="@color/primaryTextColor" />

                </FrameLayout>
            </LinearLayout>

            <TextView
                android:id="@+id/detail_summary_text"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                tools:text="This is the summary of the review. It provides an overview of the album and the critic's initial thoughts. The text is designed to be readable and engaging, with proper line spacing."
                android:textColor="@color/primaryTextColor"
                android:textSize="16sp"
                android:lineSpacingMultiplier="1.4"
                android:layout_marginBottom="24dp"/>

            <View
                android:layout_width="match_parent"
                android:layout_height="1dp"
                android:background="?android:attr/listDivider"
                android:layout_marginBottom="24dp" />

            <TextView
                android:id="@+id/detail_tracklist_text"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                tools:text="1. Track One\n2. Track Two\n3. Track Three"
                android:textColor="@color/primaryTextColor"
                android:textSize="16sp"
                android:lineSpacingMultiplier="1.5"
                android:layout_marginBottom="24dp"/>

            <TextView
                android:id="@+id/detail_main_content_text"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                tools:text="The main content goes here, discussing the highlights and details of the music. This section can be quite long, flowing seamlessly."
                android:textColor="@color/primaryTextColor"
                android:textSize="16sp"
                android:lineSpacingMultiplier="1.4"
                android:layout_marginBottom="24dp"/>

            <TextView
                android:id="@+id/detail_conclusion_text"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                tools:text="The conclusion summarizes the final thoughts on the album."
                android:textColor="@color/primaryTextColor"
                android:textSize="16sp"
                android:lineSpacingMultiplier="1.4"
                android:layout_marginBottom="24dp"/>

             <com.google.android.material.chip.ChipGroup
                android:id="@+id/tags_chip_group"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                app:chipSpacingHorizontal="8dp"/>
            
            <LinearLayout
                android:id="@+id/summaryMediaContainer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical" />
            <LinearLayout
                android:id="@+id/tracklistMediaContainer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical" />
            <LinearLayout
                android:id="@+id/mainMediaContainer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical" />
            <LinearLayout
                android:id="@+id/conclusionMediaContainer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical" />
            <LinearLayout
                android:id="@+id/tagsMediaContainer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical" />

            <Button
                android:id="@+id/btn_order_album"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Đặt mua album"
                android:layout_marginTop="24dp"
                android:backgroundTint="@color/orange_light"
                android:textColor="@android:color/white"
                android:textStyle="bold"
                android:drawableLeft="@drawable/ic_heart_filled"
                android:drawablePadding="8dp"/>

            <TextView
                android:id="@+id/relatedReviewsLabel"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Có thể bạn quan tâm"
                android:fontFamily="@font/mulish_extrabold"
                android:textSize="24sp"
                android:textStyle="bold"
                android:textColor="@color/primaryTextColor"
                android:layout_marginTop="32dp"
                android:layout_marginBottom="8dp"
                android:visibility="gone"/>

            <androidx.recyclerview.widget.RecyclerView
                android:id="@+id/relatedReviewRecyclerView"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                android:nestedScrollingEnabled="false"/>

        </LinearLayout>
    </androidx.core.widget.NestedScrollView>
</androidx.coordinatorlayout.widget.CoordinatorLayout>
